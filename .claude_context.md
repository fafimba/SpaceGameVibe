# .claude_context.md - Referencia Rápida del Proyecto

> **Propósito**: Mapa de navegación rápida para Claude Code.
> **Última actualización**: 2026-02-12

## REGLA IMPORTANTE

**SIEMPRE ACTUALIZAR ESTE ARCHIVO CUANDO SE MODIFIQUE EL CÓDIGO**
- Nuevas funciones (con números de línea)
- Cambios en estructuras de datos
- Nuevos sistemas o features

## Estado del Proyecto

Stellar Swarm: Space shooter tipo vampire survivors. HTML5 Canvas + JS vanilla. Single file `index.html` (~5000+ líneas).

**Dirección actual:**
- Sistema de bosses ARCHIVADO (código aún en index.html, pendiente de extraer)
- Rediseñando progresión: upgrades multi-nivel + moneda persistente + tienda
- Ver `WEAPON_EVOLUTION_DESIGN.md` para diseño completo del nuevo sistema

## Documentos Clave

| Documento | Qué contiene |
|-----------|-------------|
| `PROJECT_OVERVIEW.md` | Visión general, sistemas, estructura del proyecto |
| `WEAPON_EVOLUTION_DESIGN.md` | Diseño de armas, upgrades, tienda, dificultades |
| `CODEBASE_ANALYSIS.md` | Análisis técnico del código (incluye bosses, marcar como parcialmente obsoleto) |

## Skills disponibles (en `.claude/skills/`)

| Skill | Uso |
|-------|-----|
| `weapon-ability-generator` | Generar/diseñar armas y habilidades |
| `game-design` | Diseño de juego general |
| `ui-ux-design` | Diseño de interfaz |
| `svg-graphics` | Gráficos vectoriales |

## Sistemas principales en index.html

- **Armas**: 6 armas con 3 upgrades cada una (SKILL_TREE, getWeaponStats, fire functions)
- **Enemigos**: 4 tipos (SCOUT, KAMIKAZE, SPINNER, TANK) con escalado por nivel
- **Spawning**: Oleadas + spawn continuo (updateSpawnSystem, spawnWave)
- **Progresión**: XP → Level up → 3 opciones aleatorias (generateUpgradeOptions)
- **Bosses**: 5 bosses con arena (ARCHIVADO - código pendiente de extraer a _bosses_archived/)
- **Rendering**: Camera system, partículas, efectos (shake, flash, slowmo)
- **Optimización**: Object pooling, spatial grid (250px), culling por distancia
- **Persistencia**: localStorage para highscore y progression

## Próximos cambios a implementar (orden de prioridad)

1. Extraer código de bosses de index.html a _bosses_archived/boss_system.js
2. Implementar upgrades multi-nivel (I, II, III) por rama de arma
3. Implementar moneda persistente (cristales) + tienda en menú
4. Implementar sistema de dificultades desbloqueables
5. Implementar evoluciones capstone por arma
